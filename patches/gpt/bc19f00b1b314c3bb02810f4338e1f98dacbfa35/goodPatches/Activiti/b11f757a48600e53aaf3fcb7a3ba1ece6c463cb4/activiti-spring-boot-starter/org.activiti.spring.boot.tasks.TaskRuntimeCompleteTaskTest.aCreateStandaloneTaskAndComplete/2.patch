victim
:code:
{'fields': {}, 'methods': {'aCreateStandaloneTaskAndComplete': 'public void aCreateStandaloneTaskAndComplete() {\n\n    String authenticatedUserId = securityManager.getAuthenticatedUserId();\n    Task standAloneTask = taskRuntime.create(TaskPayloadBuilder.create()\n            .withName("simple task")\n            .withAssignee(authenticatedUserId)\n            .build());\n\n    Page<Task> tasks = taskRuntime.tasks(Pageable.of(0, 50));\n\n    // Filter tasks by name to isolate tasks created in this method\n    List<Task> filteredTasks = tasks.getContent().stream()\n            .filter(task -> task.getName().equals("simple task"))\n            .collect(Collectors.toList());\n\n    assertThat(filteredTasks).hasSize(1);\n    Task task = filteredTasks.get(0);\n\n    assertThat(task.getAssignee()).isEqualTo(authenticatedUserId);\n    assertThat(task.getStatus()).isEqualTo(Task.TaskStatus.ASSIGNED);\n\n    Task completedTask = taskRuntime.complete(TaskPayloadBuilder.complete().withTaskId(task.getId()).build());\n    assertThat(completedTask.getStatus()).isEqualTo(Task.TaskStatus.COMPLETED);\n}\n', 'aCreateStandaloneTaskWithNoCandidates': 'public void aCreateStandaloneTaskWithNoCandidates() {\n\n    Task standAloneTask = taskRuntime.create(TaskPayloadBuilder.create()\n            .withName("task with no candidates besides owner")\n            .build());\n\n    // the owner should be able to see the created task\n    Page<Task> tasks = taskRuntime.tasks(Pageable.of(0,\n                                                     50));\n\n    assertThat(tasks.getContent()).hasSize(1);\n    Task task = tasks.getContent().get(0);\n\n    assertThat(task.getAssignee()).isNull();\n    assertThat(task.getStatus()).isEqualTo(Task.TaskStatus.CREATED);\n}\n'}}victim
:import:
['import java.util.List;\n ', 'import java.util.stream.Collectors;\n ']victim
:pom:
victim
:toreplace:
{'field_names': [], 'method_names': ['aCreateStandaloneTaskAndComplete', 'aCreateStandaloneTaskWithNoCandidates']}polluter
:code:
{'fields': {}, 'methods': {'aCreateStandaloneTaskAndComplete': 'public void aCreateStandaloneTaskAndComplete() {\n\n    String authenticatedUserId = securityManager.getAuthenticatedUserId();\n    Task standAloneTask = taskRuntime.create(TaskPayloadBuilder.create()\n            .withName("simple task")\n            .withAssignee(authenticatedUserId)\n            .build());\n\n    Page<Task> tasks = taskRuntime.tasks(Pageable.of(0, 50));\n\n    // Filter tasks by name to isolate tasks created in this method\n    List<Task> filteredTasks = tasks.getContent().stream()\n            .filter(task -> task.getName().equals("simple task"))\n            .collect(Collectors.toList());\n\n    assertThat(filteredTasks).hasSize(1);\n    Task task = filteredTasks.get(0);\n\n    assertThat(task.getAssignee()).isEqualTo(authenticatedUserId);\n    assertThat(task.getStatus()).isEqualTo(Task.TaskStatus.ASSIGNED);\n\n    Task completedTask = taskRuntime.complete(TaskPayloadBuilder.complete().withTaskId(task.getId()).build());\n    assertThat(completedTask.getStatus()).isEqualTo(Task.TaskStatus.COMPLETED);\n}\n', 'aCreateStandaloneTaskWithNoCandidates': 'public void aCreateStandaloneTaskWithNoCandidates() {\n\n    Task standAloneTask = taskRuntime.create(TaskPayloadBuilder.create()\n            .withName("task with no candidates besides owner")\n            .build());\n\n    // the owner should be able to see the created task\n    Page<Task> tasks = taskRuntime.tasks(Pageable.of(0,\n                                                     50));\n\n    assertThat(tasks.getContent()).hasSize(1);\n    Task task = tasks.getContent().get(0);\n\n    assertThat(task.getAssignee()).isNull();\n    assertThat(task.getStatus()).isEqualTo(Task.TaskStatus.CREATED);\n}\n'}}polluter
:import:
['import java.util.List;\n ', 'import java.util.stream.Collectors;\n ']polluter
:pom:
polluter
:toreplace:
{'field_names': [], 'method_names': ['aCreateStandaloneTaskAndComplete', 'aCreateStandaloneTaskWithNoCandidates']}